Topics Covered:
üëâ GROUP BY & HAVING
üëâ JOINS (INNER, LEFT, RIGHT, FULL)
üëâ Subqueries & Aliases


üß± Database Setup
Use this script before starting the challenges üëá

CREATE TABLE Departments (
    dept_id INT PRIMARY KEY,
    dept_name VARCHAR(50)
);

CREATE TABLE Employees (
    emp_id INT PRIMARY KEY,
    emp_name VARCHAR(50),
    dept_id INT,
    salary DECIMAL(10,2),
    hire_date DATE,
    FOREIGN KEY (dept_id) REFERENCES Departments(dept_id)
);

CREATE TABLE Projects (
    project_id INT PRIMARY KEY,
    project_name VARCHAR(100),
    dept_id INT,
    budget DECIMAL(10,2),
    FOREIGN KEY (dept_id) REFERENCES Departments(dept_id)
);

CREATE TABLE Employee_Projects (
    emp_id INT,
    project_id INT,
    hours_worked INT,
    FOREIGN KEY (emp_id) REFERENCES Employees(emp_id),
    FOREIGN KEY (project_id) REFERENCES Projects(project_id)
);

INSERT INTO Departments VALUES
(1, 'HR'),
(2, 'Engineering'),
(3, 'Marketing'),
(4, 'Finance');

INSERT INTO Employees VALUES
(101, 'Alice', 1, 60000, '2020-01-15'),
(102, 'Bob', 2, 80000, '2019-05-10'),
(103, 'Charlie', 2, 75000, '2021-03-20'),
(104, 'David', 3, 50000, '2022-11-05'),
(105, 'Eve', 4, 90000, '2018-07-18');

INSERT INTO Projects VALUES
(201, 'Recruitment System', 1, 20000),
(202, 'AI Platform', 2, 150000),
(203, 'Ad Campaign', 3, 50000),
(204, 'Accounting Revamp', 4, 80000);

INSERT INTO Employee_Projects VALUES
(101, 201, 120),
(102, 202, 200),
(103, 202, 180),
(104, 203, 90),
(105, 204, 220);
 
üü¢ EASY SQL CHALLENGES (5)
1Ô∏è‚É£ List all employees along with their department names.

2Ô∏è‚É£ Show the total number of employees in each department.

3Ô∏è‚É£ Find the average salary for each department.

4Ô∏è‚É£ Display all departments having more than 1 employee.

5Ô∏è‚É£ Show all projects and their associated department names.
üü° MEDIUM SQL CHALLENGES (15)
6Ô∏è‚É£ List employees who don‚Äôt belong to any project (use LEFT JOIN).

7Ô∏è‚É£ Show total project hours worked by each employee.

8Ô∏è‚É£ Find employees working in departments where average salary > 70000.

9Ô∏è‚É£ List all departments with total salary expense > 100000.

üîü Display employees who earn more than the average salary of their department.

1Ô∏è‚É£1Ô∏è‚É£ List all projects with department name and average hours worked by employees.

1Ô∏è‚É£2Ô∏è‚É£ Show the highest-paid employee in each department.

1Ô∏è‚É£3Ô∏è‚É£ Find all employees who joined before 2020 and work in Finance.

1Ô∏è‚É£4Ô∏è‚É£ List all departments that have no projects assigned.

1Ô∏è‚É£5Ô∏è‚É£ Display the total number of projects per department using GROUP BY.

1Ô∏è‚É£6Ô∏è‚É£ Find departments where the average project budget exceeds 60000.

1Ô∏è‚É£7Ô∏è‚É£ List employees and the number of projects they are assigned to.

1Ô∏è‚É£8Ô∏è‚É£ Find employees who have worked more than 150 total hours across projects.

1Ô∏è‚É£9Ô∏è‚É£ Show departments that have at least one project with budget < 50000.

2Ô∏è‚É£0Ô∏è‚É£ Display all employees with their department name and total hours worked, even if they have no project.
üî¥ HARD SQL CHALLENGES (10)
2Ô∏è‚É£1Ô∏è‚É£ Find employees whose salary is above their department‚Äôs average salary.

2Ô∏è‚É£2Ô∏è‚É£ Show departments where every project has a budget greater than 40000.

2Ô∏è‚É£3Ô∏è‚É£ Display the top 2 highest-paid employees per department.

2Ô∏è‚É£4Ô∏è‚É£ Find the employee who worked the most hours on any project.

2Ô∏è‚É£5Ô∏è‚É£ List departments whose total employee salary is greater than the total project budget.

2Ô∏è‚É£6Ô∏è‚É£ Show the second highest salary in each department.

2Ô∏è‚É£7Ô∏è‚É£ Find employees who have worked on all projects in their department.

2Ô∏è‚É£8Ô∏è‚É£ Display the department(s) with the maximum number of projects.

2Ô∏è‚É£9Ô∏è‚É£ Show the total number of employees who earn above the overall average salary (using subquery).

3Ô∏è‚É£0Ô∏è‚É£ List employees who have never worked on a project whose budget is above 100000